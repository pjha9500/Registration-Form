<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<style>
    h2{
        text-align: center;
        color:lightseagreen
    }
    p{
        text-align: center;
    }
    hr{
        border-radius: 5px;
    }

</style>
<body>
    <div class="Formheading">
    <h2>Book a call</h2>
    <p>Book a call slot and our representative will call you within hour</p>
    <hr>

    <form id="formbox" onsubmit="onsignup(event)">
        <div class="Name">
        <label class="TEXT" for="name" >Name:</label><br>
        <input  type="text" id="username" name="username" required><br>
        </div>
        <div class="Email">
            <label class="TEXT" for="email">Email:</label><br>
            <input type="email" id="EMAIL" name="useremail" required><br></div>
        <div class="phone">
            <label class="TEXT"for="phone">Phone:</label><br>
            <input type="number" name ="userphone" required>
        </div>
        
        
        <br>
        <div class="Time">
            <label class="TEXT" for ="date">Time for call:</label><br>
            <input type="date" name="callDate" required ><br><br>
            <input type="time" name="callTime" required><br><br>
            <input type="submit" id="submits" value="GET A CALL">

        </div>
    </div>
</form>
    
</body>
<script>
    class user {
  constructor(email, contact, date) {
    this.email=email;
    this.contact=contact;
    this.date = date;
  }
}
     function onsignup(event)
     {



    //     // preventing the default behaviour of form  which is like reloading of fo
    //     event.preventDefault();
    event.preventDefault();
    let newuser = new user(event.target.useremail.value, event.target.userphone.value, event.target.callDate.value);
    localStorage.setItem(event.target.username.value,JSON.stringify(newuser));
     keys = Object.keys(localStorage),
    i = keys.length;
    letloops=i;
    while(letloops--)
    {
        let data=document.createElement('p');
        data.innerHTML="Name:"+keys[letloops]+' '+localStorage.getItem(keys[letloops]);
        document.getElementById('main-page').appendChild(data);

    }

     }

</script>
</html>
